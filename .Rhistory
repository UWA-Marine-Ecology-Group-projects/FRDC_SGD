facet_wrap(~Site.Ref) +
theme_classic()
p
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
glimpse()
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(Value, as.numeric) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
glimpse()
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
glimpse()
p <- ggplot(df3, aes(x = Collected.Date, y = temp)) +
geom_line() +
facet_wrap(~Site.Ref) +
theme_classic()
p
min(df3$Value)
max(df3$Value)
max(df3$Value, na.omit=T)
View(df3)
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX")
glimpse()
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX") %>%
glimpse()
levels(df3$Variable.Name)
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" & "Water Temp situ(øC) MEAN" & "Water Temp situ(øC) MIN") %>%
glimpse()
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" &
Variable.Name == "Water Temp situ(øC) MEAN" &
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX",
Variable.Name == "Water Temp situ(øC) MEAN",
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX",
Variable.Name == "Water Temp situ(øC) MEAN",
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
p <- ggplot(df3, aes(x = Collected.Date, y = temp)) +
geom_line() +
facet_wrap(~Site.Ref) +
theme_classic()
p
View(df3)
p <- ggplot(df3 %>% filter(Variable.Name == "Water Temp situ(øC) MAX"), aes(x = Collected.Date, y = temp)) +
geom_line() +
facet_wrap(~Site.Ref) +
theme_classic()
p
p <- ggplot(df3 %>% filter(Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line() +
facet_wrap(~Site.Ref) +
theme_classic()
p
p <- ggplot(df3 %>% filter(Site.Ref == "61715045", Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line() +
facet_wrap(~Site.Ref) +
theme_classic()
p <- ggplot(df3 %>% filter(Site.Ref == "61715045", Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line() +
# facet_wrap(~Site.Ref) +
theme_classic()
p
p.dir
for(i in length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 8, res = 600)
print(
ggplot(df3 %>% filter(Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
}
ynames <- levels(df3$Site.Ref)
ynames
for(i in length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 8, res = 600)
print(
ggplot(df3 %>% filter(Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
}
dev.off
dev.off
dev.off()
for(i in length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 8, res = 600)
print(
ggplot(df3 %>% filter(Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
i in length(levels(df3$Site.Ref))
length(levels(df3$Site.Ref))
ynames[i]
ynames[1]
ynames[2]
print(
ggplot(df3 %>% filter(Variable.Name == "Water Temp situ(øC) MAX"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
for(i in length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 8, res = 600)
print(
ggplot(df3 %>% filter(Variable.Name == "Water Temp situ(øC) MAX"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
for(i in 1:length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 8, res = 600)
print(
ggplot(df3 %>% filter(Variable.Name == "Water Temp situ(øC) MAX"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
ynames[1]
for(i in 1:length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 8, res = 600)
print(
ggplot(df3 %>% filter(Site.Ref == ynames[i] & Variable.Name == "Water Temp situ(øC) MAX"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
for(i in 1:length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.Ref == ynames[i] & Variable.Name == "Water Temp situ(øC) MAX"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
print(
ggplot(df3 %>% filter(Site.Ref == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
for(i in 1:length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.Ref == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
df <- read.csv(paste(dr.dir, "Freshwater_sites_Temperature.csv", sep ='/'))%>%
dplyr::mutate_at(c('Site.Ref', 'Site.name', 'Site.short.name', 'All.Site.Refs', 'Site.subtype', 'Locality', 'GW.Area', 'Var.ID', 'Variable'), as.factor) %>%
glimpse()
df <- read.csv(paste(dr.dir, "Freshwater_sites_Temperature.csv", sep ='/'))%>%
dplyr::mutate_at(c('Site.Ref', 'Site.name', 'Site.short.name', 'All.Site.Refs', 'Site.subtype', 'Locality', 'GW.Area', 'Var.ID', 'Variable'), as.factor) %>%
select(Site.Ref, Site.name, Site.short.name) %>%
glimpse()
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
inner_join(df3, df, by = Site.Ref) %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
inner_join(df3, df, by = 'Site.Ref') %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
df3 <- rbind(df1, df2) %>%
inner_join(df3, df, by = 'Site.Ref')
df3
df3 <- rbind(df1, df2) %>%
inner_join(df, by = 'Site.Ref')
df3
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
inner_join(df, by = 'Site.Ref') %>%
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
for(i in 1:length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.Ref == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
df <- read.csv(paste(dr.dir, "Freshwater_sites_Temperature.csv", sep ='/'))%>%
dplyr::mutate_at(c('Site.Ref', 'Site.name', 'Site.short.name', 'All.Site.Refs', 'Site.subtype', 'Locality', 'GW.Area', 'Var.ID', 'Variable'), as.factor)
head(df)
df <- read.csv(paste(dr.dir, "Freshwater_sites_Temperature.csv", sep ='/'))%>%
dplyr::mutate_at(c('Site.Ref', 'Site.name', 'Site.short.name', 'All.Site.Refs', 'Site.subtype', 'Locality', 'GW.Area', 'Var.ID', 'Variable'), as.factor) %>%
select(Site.Ref, Site.name, Site.short.name, Latitude, Longitude) %>%
glimpse()
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
inner_join(df, by = 'Site.Ref') %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
for(i in 1:length(levels(df3$Site.short.name))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.Ref == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
ynames <- levels(df3$Site.short.name)
for(i in 1:length(levels(df3$Site.short.name))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.Ref == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
inner_join(df, by = 'Site.Ref') %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
ynames <- levels(df3$Site.short.name)
for(i in 1:length(levels(df3$Site.short.name))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.short.name == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
ynames
ynames <- levels(df3$Site.name)
for(i in 1:length(levels(df3$Site.name))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.name == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
ynames
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
inner_join(df, by = 'Site.Ref') %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
print(
ggplot(df3 %>% filter(Site.Ref == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
ynames <- levels(df3$Site.Ref)
for(i in 1:length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.Ref == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
ynames <- levels(df3$Site.Ref)
for(i in 1:length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.Ref == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
levels(df3$Site.Ref)
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
left_join(df, by = 'Site.Ref') %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
levels(df3$Site.Ref)
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
right_join(df, by = 'Site.Ref') %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
levels(df3$Site.Ref)
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
right_join(df, by = 'Site.Ref', keep = FALSE) %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
levels(df3$Site.Ref)
length(levels(df$Site.Ref))
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
#right_join(df, by = 'Site.Ref', keep = FALSE) %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
levels(df3$Site.Ref)
length(levels(df3$Site.Ref))
df <- read.csv(paste(dr.dir, "Bore_locations_WA.csv", sep ='/'))%>%
dplyr::mutate_at(c('Site.Ref', 'Site.name'), as.factor) %>%
#select(Site.Ref, Site.name, Site.short.name, Latitude, Longitude) %>%
glimpse()
length(levels(df$Site.Ref))
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
right_join(df, by = 'Site.Ref', keep = FALSE) %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
length(levels(df3$Site.Ref))
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
left_join(df, by = 'Site.Ref', keep = FALSE) %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
length(levels(df3$Site.Ref))
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
inner_join(df, by = 'Site.Ref', keep = FALSE) %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
length(levels(df3$Site.Ref))
droplevels(df3$Site.Ref)
length(levels(df3$Site.Ref))
View(df3)
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
dplyr::inner_join(df, by = 'Site.Ref', keep = FALSE) %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
length(levels(df3$Site.Ref))
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
dplyr::inner_join(df) %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
length(levels(df3$Site.Ref))
droplevels(df3$Site.Ref)
length(levels(df3$Site.Ref))
df3 <- droplevels(df3$Site.Ref)
length(levels(df3$Site.Ref))
df3
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
dplyr::inner_join(df) %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
df3[droplevels(df3$Site.Ref)]
length(levels(df3$Site.Ref))
# merge the different survey data sheets ----
df3 <- rbind(df1, df2) %>%
dplyr::inner_join(df) %>% # merge with selected column from df to give name to sites
mutate(Collected.Date = as.Date(Collected.Date, format = '%d/%m/%y')) %>%
mutate(temp = as.numeric(Value)) %>%
dplyr::arrange(Collected.Date, desc(Site.Ref)) %>%
filter(Variable.Name == "Water Temp situ(øC) MAX" |
Variable.Name == "Water Temp situ(øC) MEAN" |
Variable.Name == "Water Temp situ(øC) MIN") %>%
glimpse()
df3 <- droplevels(df3)
length(levels(df3$Site.Ref))
ynames <- levels(df3$Site.Ref)
for(i in 1:length(levels(df3$Site.Ref))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.Ref == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
head(df3)
ynames <- levels(df3$Site.name )
for(i in 1:length(levels(df3$Site.name ))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.name  == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line()
)
dev.off()
}
# save new df ----
write.csv(df3, paste(dt.dir, "Borewater_Temp.csv", sep='/'))
print(ynames[1])
for(i in 1:length(levels(df3$Site.name ))) {
tiff(paste(p.dir, paste(ynames[i], "tiff", sep='.'), sep='/'), width = 3, height = 3.5, units = 'in', pointsize = 6, res = 600)
print(
ggplot(df3 %>% filter(Site.name  == ynames[i] & Variable.Name == "Water Temp situ(øC) MEAN"), aes(x = Collected.Date, y = temp)) +
geom_line() +
labs(title = ynames[i])
)
dev.off()
}
